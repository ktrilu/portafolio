---
// Componente de luciernagas con animación de destellos verdes
---

<div class="fireflies-container">
  {Array.from({ length: 20 }).map((_, i) => (
    <div class="firefly" style={`--delay: ${i * 0.5}s; --duration: ${3 + Math.random() * 4}s; --x: ${Math.random() * 100}%; --y: ${Math.random() * 100}%;`}></div>
  ))}
</div>

<style>
  .fireflies-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1;
    overflow: hidden;
  }

  .firefly {
    position: absolute;
    width: 10px;
    height: 10px;
    background: radial-gradient(circle, rgba(34, 197, 94, 1) 0%, rgba(34, 197, 94, 0.8) 20%, transparent 70%);
    border-radius: 50%;
    opacity: 0;
    left: var(--x);
    top: var(--y);
    animation: float var(--duration) ease-in-out var(--delay) infinite,
               glow 2s ease-in-out var(--delay) infinite;
    filter: blur(1px);
    box-shadow: 0 0 10px rgba(34, 197, 94, 0.8),
                0 0 20px rgba(34, 197, 94, 0.5),
                0 0 30px rgba(34, 197, 94, 0.3);
  }

  @keyframes float {
    0%, 100% {
      transform: translate(0, 0) scale(1);
      opacity: 0;
    }
    10% {
      opacity: 1;
    }
    50% {
      transform: translate(
        calc(var(--x) - 50vw + (sin(var(--delay)) * 100px)),
        calc(var(--y) - 50vh + (cos(var(--delay)) * 100px))
      ) scale(1.2);
      opacity: 1;
    }
    90% {
      opacity: 1;
    }
    100% {
      transform: translate(
        calc((sin(var(--delay)) * 150px)),
        calc((cos(var(--delay)) * 150px))
      ) scale(0.8);
      opacity: 0;
    }
  }

  @keyframes glow {
    0%, 100% {
      opacity: 0.3;
      filter: blur(1px) brightness(0.8);
    }
    25% {
      opacity: 1;
      filter: blur(2px) brightness(1.5);
    }
    50% {
      opacity: 0.6;
      filter: blur(1.5px) brightness(1.2);
    }
    75% {
      opacity: 0.9;
      filter: blur(2px) brightness(1.4);
    }
  }

  /* Modo oscuro - luciernagas más brillantes */
  :global(.dark) .firefly {
    background: radial-gradient(circle, rgba(74, 222, 128, 1) 0%, rgba(74, 222, 128, 0.9) 20%, transparent 70%);
    box-shadow: 0 0 15px rgba(74, 222, 128, 0.9),
                0 0 25px rgba(74, 222, 128, 0.6),
                0 0 35px rgba(74, 222, 128, 0.4);
  }

  /* Responsivo - menos luciernagas en móvil */
  @media (max-width: 768px) {
    .firefly:nth-child(n+11) {
      display: none;
    }
  }
</style>
